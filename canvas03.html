<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Canvas Test</title>
<style>
canvas {
border: 1px dashed black;
}
</style>
<script>
window.onload = function() {
var canvas = document.getElementById("drawingCanvas");
var context = canvas.getContext("2d");
// (Put your fabulous drawing code here.)

//canvas.width = 600;
//canvas.height = 600;


/* PROG GRAPH3D.BAS
10 FOR X=40 TO 215
20 LET MMAX=999: LET MMIN=0
30 FOR Y=16 TO 144 STEP 4
40 LET R=SQR((X-127)*(X-127)+(Y-80)*(Y-80))/15
50 LET Z=INT(Y+90*EXP(-R/3)*COS R)
60 IF Z<MMAX OR Z>MMIN THEN PLOT X,Z
70 IF Z<MMAX THEN LET MMAX=Z
80 IF Z>MMIN THEN LET MMIN=Z
90 NEXT Y
100 NEXT X

PROG GRAPH3D.BAS
 Z = e ^ (-r/3) . cos (r)
	r = distancia do centro do plano X-Y ate o ponto desenhado

plot (0,0) to (255, 175) = 45.056 pontos
(0,0) inferior esquerdo tela
*/
    for (var X=40; X<215; X++)
    {
        var MMAX=999, MMIN=0;
        for (var Y=16; Y<144; Y+=3)
        {
            var R = Math.sqrt((X-127)*(X-127)+(Y-90)*(Y-90))/15;
            var Z = Math.round(Y+100 * Math.exp(-R/3) * Math.cos(R));
            //var R = Math.sqrt((X-127)*(X-127)+(Y-80)*(Y-80))/15;
            //var Z = Math.round(Y+90 * Math.exp(-R/3) * Math.cos(R));
            
            if( Z<MMAX || Z>MMIN )
                point(X,Z,context);
            if (Z<MMAX)
                MMAX=Z;
            if (Z>MMIN)
                MMIN=Z;
        }
    }
    
context.font = "10px Arial";
context.fillStyle = "blue";
//context.fillStyle="rgb(0,0,0)";
//context.fillText("1 Text",10,20);
//context.fillText("2 Text",10,200);

//context.font = "30px Arial";
//context.fillText("Hello World",10,50);
    //context.stroke();
    //context.restore();
    
drawAxes(context);
};

function drawAxes(ctx)
{
    var canvas = document.getElementById("drawingCanvas");
    
    ctx.font = "10px Arial";
    ctx.fillStyle = "rgb(0,0,0)";
    // X-axis
    for (var i=10; i<canvas.width; i+=50)
    {
        ctx.fillText(i,i,10);
    }
    // Y-axis
    for (var i=10; i<canvas.height; i+=50)
    {
        ctx.fillText(i,10,i);
    }
}
function point(x, y, ctx){
    //ctx.fillStyle="rgb(205,40,40)";
    ctx.fillStyle="rgb("+x+","+y+",40)";
    ctx.fillRect(x,250-y,1,1);
    // in ZX Spectrum: (0,0) inferior esquerdo tela, so add 250 to move center
    //console.log(x +" - "+y);
}

/*
var canvas = document.getElementById("myCanvas");
var canvasWidth = canvas.width;
var canvasHeight = canvas.height;
var ctx = canvas.getContext("2d");
var canvasData = ctx.getImageData(0, 0, canvasWidth, canvasHeight);

// That's how you define the value of a pixel //
function drawPixel (x, y, r, g, b, a) {
    var index = (x + y * canvasWidth) * 4;

    canvasData.data[index + 0] = r;
    canvasData.data[index + 1] = g;
    canvasData.data[index + 2] = b;
    canvasData.data[index + 3] = a;
}

// That's how you update the canvas, so that your //
// modification are taken in consideration //
function updateCanvas() {
    ctx.putImageData(canvasData, 0, 0);
}
//Than you can use it this way :
/drawPixel(1, 1, 255, 0, 0, 255);
drawPixel(1, 2, 255, 0, 0, 255);
drawPixel(1, 3, 255, 0, 0, 255);
updateCanvas();
*/
</script>
</head>
<body>
<canvas id="drawingCanvas" width="500" height="300"></canvas>
</body>
</html>